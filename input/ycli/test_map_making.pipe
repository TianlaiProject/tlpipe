# -*- mode: python; -*-
#

import os

from tlpipe.map import dirtymap


data_base = os.getenv('DATA_BASE')

#sim_type = 'fnoise_beta0.0'
#sim_type = 'HI_tf'
#sim_type = 'HI_tf_v5m'
sim_type = 'wigglez_syn_fnoise_beta0.5'

pipe_tasks = []
pipe_outdir = data_base + 'meerkat/sim_%s/'%sim_type
pipe_logging = 'info'
pipe_copy = False

data_path = data_base + '/meerkat/sim/'

method = 'freq'

#file_name = '1474580092'

input_files = [
    'MeerKAT3_HorizonRasterDrift_20180915203600.h5',
    #'MeerKAT3_HorizonRasterDrift_20180916020000.h5',
    #'MeerKAT3_HorizonRasterDrift_20180916203000.h5',
    #'MeerKAT3_HorizonRasterDrift_20180917015400.h5',
    ]
#file_name = 'sim_meerKAT3_AZdrift_noise_inv_weight'
file_name = 'sim_meerKAT3_HorizonRasterDrift_noise_cov_weight'

pipe_tasks.append(dirtymap.DirtyMap_GBT)

#dm_input_files  = ['svd/%s'%f for f in input_files]
#dm_output_files = ['maps/%s'%file_name,]
#dm_data_sets    = 'vis_sub00modes'
#dm_data_sets    = 'vis_sub01modes'

#dm_input_files  = ['pned/%s'%f for f in input_files]
#dm_input_files  = ['svd_%s/%s'%(method, f) for f in input_files]
dm_ra_range = [0, 25]
dm_ra_delta = 0.2
dm_dec_range = [-4.0, 5.0]
dm_dec_delta = 0.2
dm_tblock_len = 200
dm_input_files  = ['sim/%s'%f for f in input_files]
dm_output_files = ['maps_test/%s'%file_name, ]
dm_data_sets    = 'vis'
#dm_data_sets    = 'vis_sub00modes'
#dm_data_sets    = 'vis_sub05modes'

